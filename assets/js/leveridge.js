function prepareHash(t){return t.replace("#","/")}function getLinesNumber(t){var e=parseInt(t.css("line-height")),n=t.height();return console.log(n,e),Math.round(n/e)}!function(){WebFontConfig={google:{families:["Roboto::latin","Merriweather::latin","Lato:400,300italic:latin"]}};var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",t.type="text/javascript",t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),function(t){var e=t("#content");t(window).on("hashchange",function(n){var a=window.location.hash;a.length||(a="#home/"),t.ajax({url:prepareHash(a),method:"GET",dataType:"html",success:function(n){var n=t.parseHTML(n);e.fadeOut("slow",function(){t(this).empty().append(n).fadeIn(function(){t(window).trigger("pageChanged",[n])})})}})}).trigger("hashchange"),t(window).on("pageChanged",function(e,n){t(".textBox",n).each(function(){var e=t(this),n=t("p:first",e),a=n.html().slice(0,1),o=1===getLinesNumber(n)?" single-line":"",i=n.html().substring(1,n.html().length-1);n.html(i),t("<span />",{"class":"first-word"+o,text:a}).prependTo(n)})})}(jQuery);