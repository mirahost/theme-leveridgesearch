function prepareHash(e,t){return t=void 0===t?"replace":"empty","replace"===t?e.replaceAll("#","/"):e.replaceAll("#","").replaceAll("/","")}function getLinesNumber(e){var t=parseInt(e.css("line-height")),n=e.height();return Math.round(n/t)}function smallestCol(e){var t=[],n=null,a=e.children();a.each(function(e){var n=$(this).width();t.push(n)}),n=t.indexOf(t.min()),a.eq(n).addClass("smallest-col")}function currentPage(e,t){var n="active";$("li",e).each(function(){var e=$(this),a=$("a",e).attr("href");prepareHash(a,"empty")===prepareHash(t,"empty")&&e.addClass(n).siblings().removeClass(n)})}Array.prototype.min=function(){return Math.min.apply(null,this)},String.prototype.replaceAll=function(e,t){var n=this;return n.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)},function(){WebFontConfig={google:{families:["Roboto:300, 400:latin","Merriweather::latin","Lato:400,300italic:latin"]}};var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",e.type="text/javascript",e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),function(e){var t=(e("#content"),e(".pagesNav")),n=e("#boxUpdate"),a=!0,r=["start","company","services","where","what"];e(window).on("hashchange",function(t){var a=window.location.hash;(-1==r.indexOf(prepareHash(a,"empty"))&&a.length||window.location.pathname.length<=1&&!a.length)&&(a="#start/"),e.ajax({url:prepareHash(a),method:"GET",dataType:"html",success:function(t){var t=e.parseHTML(t);n.fadeOut(function(){e(this).empty().append(t).fadeIn(function(){e(window).trigger("pageChanged",[t,a])})})}})}).trigger("hashchange"),e(window).on("pageChanged",function(r,i,o){currentPage(t,o),a||e("html, body").animate({scrollTop:n.position().top}),a=!1,e(".textBox",i).each(function(){var t=e(this),n=e("p:first",t);if(n.length){var a=n.html().slice(0,1),r=1===getLinesNumber(n)?" single-line":"",i=n.html().substring(1,n.html().length-1);n.html(i),e("<span />",{"class":"first-word"+r,text:a}).prependTo(n)}}),e("#content > .row").each(function(){var t=e(this);smallestCol(t)})});var i=e("#request"),o=e(".success",i),s=e(".fail",i);i.validate({submitHandler:function(){return e.ajax({url:i.attr("action"),type:i.attr("method")}).success(function(){i.children(":not(.requestResults)").fadeOut(function(){o.fadeIn()})}).fail(function(){i.children(":not(.requestResults)").fadeOut(function(){s.fadeIn()})}),!1}})}(jQuery);